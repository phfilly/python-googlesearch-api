<html>
    <head>
        <title>google search api</title>
        <link rel="stylesheet" href="static/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
        <script src="static/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    </head>
    <body>
        <div class='container'>
            <div class='row'><h1>Google Trends: {{ term }}</h1></div>
            <div class='row'>
              <div class='col-md-6'>
                  <canvas id="influence-over-time" width="600" height="400"></canvas>
              </div>
              <div class='col-md-6'>
                  <canvas id="region" width="600" height="400"></canvas>
              </div>
            </div>
            
        </div>
        <script>
            new Chart(document.getElementById("influence-over-time"), {
              type: 'line',
              data: {
                labels: [{% for date in dates %}
                      "{{date}}",
                  {% endfor %}],
                datasets: [
                  {
                    label: 'Interest Over Time',
                    data: [{% for value in values %}
                      {{value}},
                    {% endfor %}],
                    borderColor: "#3e95cd",
                  }
                ]
              }
            });

            var barData = {
              labels : [{% for province in provinces %}
                              "{{province}}",
                          {% endfor %}],
              datasets : [
                  {
                    title: 'Term by region',
                    fillColor: "rgba(151,187,205,0.2)",
                    strokeColor: "rgba(151,187,205,1)",
                    pointColor: "rgba(151,187,205,1)",
                    data : [{% for value in province_value %}
                                  {{value}},
                                {% endfor %}]
                  }
                  ]
              }

            var myBarChart = new Chart(document.getElementById("region"), {
              type: 'bar',
              data: barData,
            });
        </script>
    </body>
</html>